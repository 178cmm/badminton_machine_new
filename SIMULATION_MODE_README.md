# 模擬對打模式說明

## 概述

模擬對打模式是羽毛球發球機控制系統的新功能，提供智能化的對打模擬訓練。此模式根據球員等級自動調整發球難度和間隔時間，創造更真實的對打體驗。

## 功能特色

### 🎯 智能發球策略
- 基於25宮格發球區域的智能選擇
- 根據難度等級調整發球範圍和頻率
- 模擬真實對打中的球路變化

### 📊 12個等級系統
- **等級 1-2**: 初學者 (全部高球)
- **等級 3-6**: 中級 (後高前低)
- **等級 7-12**: 高級 (後高中殺前低)
- **等級 9-12**: 支援雙發球機 (功能保留)

### 🎮 多種控制方式
- **GUI界面**: 直觀的等級選擇和控制面板
- **語音控制**: 支援語音指令啟動和停止
- **文字指令**: 支援文字輸入控制

## 使用方法

### GUI界面操作
1. 切換到「模擬對打」標籤頁
2. 選擇適合的對打等級 (1-12)
3. 查看等級詳細說明
4. 點擊「開始模擬對打」按鈕
5. 使用「停止對打」按鈕結束訓練

### 語音控制指令
- **開始對打**: "開始模擬對打"、"模擬對打等級5"
- **停止對打**: "停止模擬對打"、"停止對打"
- **雙發球機**: "模擬對打等級9雙發球機" (功能保留)

### 文字指令
- 支援與語音控制相同的指令格式
- 可在文字輸入標籤頁中使用

## 技術架構

### 核心組件
- **SimulationExecutor**: 模擬對打執行器
- **SimulationParser**: 指令解析器
- **ShotZoneSelector**: 發球區域選擇器
- **DualMachineExecutor**: 雙發球機執行器 (功能保留)

### 數據結構
- **area.json**: 發球區域參數配置
- **serve_types_one**: 單發球機球路類型
- **serve_types_left/right**: 雙發球機球路類型 (功能保留)

## 等級詳細說明

| 等級 | 名稱 | 球路類型 | 間隔時間 | 難度 | 特色 |
|------|------|----------|----------|------|------|
| 1 | 初學者 | 全部高球 | 3秒 | 容易 | 適合剛開始學習的初學者 |
| 2 | 初學者+ | 全部高球 | 2.5秒 | 容易 | 有一定基礎的初學者 |
| 3 | 中級 | 後高前低 | 2.5秒 | 普通 | 開始練習不同球路組合 |
| 4 | 中級+ | 後高前低 | 2秒 | 普通 | 提升反應速度和球路變化 |
| 5 | 中高級 | 後高前低 | 2秒 | 困難 | 進一步提升技術水平 |
| 6 | 中高級+ | 後高前低 | 1.5秒 | 困難 | 接近高級水平的訓練 |
| 7 | 高級 | 後高中殺前低 | 1.5秒 | 瘋狂 | 包含殺球的高強度訓練 |
| 8 | 高級+ | 後高中殺前低 | 1秒 | 瘋狂 | 高強度快速反應訓練 |
| 9 | 專業級 | 後高中殺前低 | 2秒 | 困難 | 專業級訓練，支援雙發球機 |
| 10 | 專業級+ | 後高中殺前低 | 1.5秒 | 困難 | 專業級高強度訓練 |
| 11 | 大師級 | 後高中殺前低 | 1.5秒 | 瘋狂 | 大師級訓練，支援雙發球機 |
| 12 | 大師級+ | 後高中殺前低 | 1秒 | 瘋狂 | 最高等級訓練，極限挑戰 |

## 雙發球機功能 (保留)

### 功能說明
- 等級9-12支援雙發球機模式
- 左右發球機輪流發球
- 提供更複雜的對打模擬
- 目前功能保留，等待後續開發

### 技術實現
- **DualMachineExecutor**: 雙發球機執行器
- **serve_types_left/right**: 左右發球機參數配置
- 輪流發球機制
- 預備位置設定

## 發球區域系統

### 25宮格系統
- 5x5的發球區域網格
- 每個區域有獨立的發球參數
- 智能選擇相鄰區域進行對打模擬

### 難度策略
- **難度0**: 60%近距離, 40%中距離
- **難度1**: 30%近距離, 40%中距離, 20%遠距離, 10%極遠
- **難度2**: 10%近距離, 30%中距離, 40%遠距離, 20%極遠
- **難度3**: 0%近距離, 20%中距離, 30%遠距離, 50%極遠

## 注意事項

1. **藍牙連接**: 使用前請確保發球機已正確連接
2. **等級選擇**: 建議從較低等級開始，逐步提升
3. **安全使用**: 發球過程中請注意安全，避免受傷
4. **雙發球機**: 目前功能保留，實際使用時會降級為單發球機模式

## 未來發展

- 完善雙發球機功能
- 增加更多球路類型
- 優化發球策略算法
- 添加訓練數據統計
- 支援自定義訓練模式

## 技術支援

如有問題或建議，請聯繫開發團隊或查看系統日誌獲取詳細信息。
